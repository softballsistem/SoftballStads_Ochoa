import{r as a,u as M,a as R,j as e,T,U as $,L as z}from"./index-Dp_AqF-5.js";import{A as D}from"./alert-circle-DnWHPAaX.js";import{C as Z}from"./check-circle-DynwvnUt.js";import{M as I}from"./mail-CUEOnGZI.js";import{L as y,E as N}from"./lock-Cd2Xd20E.js";import{E as v}from"./eye-DNMrLB4C.js";function K(){const[i,w]=a.useState(""),[n,C]=a.useState(""),[o,S]=a.useState(""),[l,E]=a.useState(""),[c,P]=a.useState(!1),[d,k]=a.useState(!1),[g,r]=a.useState(""),[f,h]=a.useState(""),[p,b]=a.useState(!1),{signUp:L,error:u,user:j}=M(),m=R();a.useEffect(()=>{j&&m("/dashboard")},[j,m]),a.useEffect(()=>{u&&r(u)},[u]);const U=()=>!i||!n||!o||!l?(r("Todos los campos son obligatorios"),!1):n!==l?(r("Las contraseñas no coinciden"),!1):n.length<6?(r("La contraseña debe tener al menos 6 caracteres"),!1):o.length<3?(r("El usuario debe tener al menos 3 caracteres"),!1):o.includes(" ")?(r("El usuario no puede contener espacios. Usa guiones bajos en su lugar."),!1):/^[a-zA-Z0-9_]+$/.test(o)?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(i)?!0:(r("Por favor ingresa un email válido"),!1):(r("El usuario solo puede contener letras, números y guiones bajos"),!1),F=async s=>{if(s.preventDefault(),r(""),h(""),!!U()){b(!0);try{const{error:t}=await L(i.trim(),n,o.trim());t?r(t):(h("¡Cuenta creada exitosamente! Puedes iniciar sesión ahora."),setTimeout(()=>m("/login"),300))}catch{r("Ocurrió un error inesperado")}finally{b(!1)}}},x=(s=>{let t=0;return s.length>=6&&t++,s.length>=8&&t++,/[A-Z]/.test(s)&&t++,/[a-z]/.test(s)&&t++,/[0-9]/.test(s)&&t++,/[^A-Za-z0-9]/.test(s)&&t++,t})(n),q=["bg-red-500","bg-red-400","bg-yellow-500","bg-yellow-400","bg-green-400","bg-green-500"],A=["Muy débil","Débil","Regular","Buena","Fuerte","Muy fuerte"];return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 via-blue-50 to-purple-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-md w-full space-y-8",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"flex justify-center",children:e.jsx("div",{className:"p-3 bg-green-100 rounded-full",children:e.jsx(T,{className:"h-12 w-12 text-green-600"})})}),e.jsx("h2",{className:"mt-6 text-3xl font-bold text-gray-900",children:"Crear Cuenta"}),e.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Únete a SoftballStats para seguir el rendimiento de tu equipo"})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8",children:[e.jsxs("form",{className:"space-y-6",onSubmit:F,children:[g&&e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:e.jsxs("div",{className:"flex",children:[e.jsx(D,{className:"h-5 w-5 text-red-400"}),e.jsx("div",{className:"ml-3",children:e.jsx("p",{className:"text-sm text-red-600",children:g})})]})}),f&&e.jsx("div",{className:"bg-green-50 border border-green-200 rounded-md p-4",children:e.jsxs("div",{className:"flex",children:[e.jsx(Z,{className:"h-5 w-5 text-green-400"}),e.jsx("div",{className:"ml-3",children:e.jsx("p",{className:"text-sm text-green-600",children:f})})]})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Dirección de Email"}),e.jsxs("div",{className:"mt-1 relative",children:[e.jsx(I,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),e.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:i,onChange:s=>w(s.target.value),className:"block w-full pl-10 pr-3 py-3 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-colors",placeholder:"Ingresa tu email"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-700",children:"Usuario"}),e.jsxs("div",{className:"mt-1 relative",children:[e.jsx($,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),e.jsx("input",{id:"username",name:"username",type:"text",autoComplete:"username",required:!0,value:o,onChange:s=>S(s.target.value),className:"block w-full pl-10 pr-3 py-3 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-colors",placeholder:"Elige un usuario (sin espacios)"})]}),e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"El usuario debe ser único y no puede contener espacios. Usa guiones bajos en su lugar."})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Contraseña"}),e.jsxs("div",{className:"mt-1 relative",children:[e.jsx(y,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),e.jsx("input",{id:"password",name:"password",type:c?"text":"password",autoComplete:"new-password",required:!0,value:n,onChange:s=>C(s.target.value),className:"block w-full pl-10 pr-10 py-3 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-colors",placeholder:"Elige una contraseña"}),e.jsx("button",{type:"button",onClick:()=>P(!c),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:c?e.jsx(N,{className:"h-5 w-5"}):e.jsx(v,{className:"h-5 w-5"})})]}),n&&e.jsx("div",{className:"mt-2",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"flex-1 bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ${q[x-1]||"bg-gray-200"}`,style:{width:`${x/6*100}%`}})}),e.jsx("span",{className:"text-xs text-gray-600",children:A[x-1]||"Muy débil"})]})})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700",children:"Confirmar Contraseña"}),e.jsxs("div",{className:"mt-1 relative",children:[e.jsx(y,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),e.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:d?"text":"password",autoComplete:"new-password",required:!0,value:l,onChange:s=>E(s.target.value),className:"block w-full pl-10 pr-10 py-3 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-colors",placeholder:"Confirma tu contraseña"}),e.jsx("button",{type:"button",onClick:()=>k(!d),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:d?e.jsx(N,{className:"h-5 w-5"}):e.jsx(v,{className:"h-5 w-5"})})]}),l&&n!==l&&e.jsx("p",{className:"mt-1 text-xs text-red-600",children:"Las contraseñas no coinciden"})]})]}),e.jsx("div",{children:e.jsx("button",{type:"submit",disabled:p,className:"group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 transform hover:scale-105",children:p?e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Creando cuenta..."]}):"Crear Cuenta"})})]}),e.jsx("div",{className:"text-center mt-6",children:e.jsxs("p",{className:"text-sm text-gray-600",children:["¿Ya tienes una cuenta?"," ",e.jsx(z,{to:"/login",className:"font-medium text-green-600 hover:text-green-500 transition-colors",children:"Inicia sesión aquí"})]})})]})]})})}export{K as default};
