import{c as b,r as u,j as e,T as j}from"./index-Dp_AqF-5.js";import{t as y}from"./api-9TNAhPN_.js";import{A as N}from"./alert-circle-DnWHPAaX.js";/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v=b("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);function w({logoUrl:o,teamName:n,size:s="medium",className:c="",showFallback:m=!0}){const[d,r]=u.useState(!1),[l,x]=u.useState(!0),a={small:"h-8 w-8",medium:"h-12 w-12",large:"h-16 w-16"},i={small:"h-4 w-4",medium:"h-6 w-6",large:"h-8 w-8"},g={small:"text-xs",medium:"text-sm",large:"text-base"},t=()=>{x(!1),r(!1)},p=()=>{x(!1),r(!0)};if(o&&!d)return e.jsxs("div",{className:`relative ${a[s]} ${c}`,children:[l&&e.jsx("div",{className:`absolute inset-0 ${a[s]} rounded-full bg-gray-100 flex items-center justify-center animate-pulse`,children:e.jsx(v,{className:`${i[s]} text-gray-400`})}),e.jsx("img",{src:o,alt:`${n} logo`,className:`${a[s]} rounded-full object-cover border-2 border-gray-200 ${l?"opacity-0":"opacity-100"} transition-opacity duration-200`,onLoad:t,onError:p})]});if(m){const f=n.split(" ").map(h=>h.charAt(0)).join("").toUpperCase().slice(0,2);return e.jsx("div",{className:`${a[s]} rounded-full bg-gradient-to-br from-green-100 to-blue-100 border-2 border-gray-200 flex items-center justify-center ${c}`,children:f?e.jsx("span",{className:`font-bold text-green-700 ${g[s]}`,children:f}):e.jsx(j,{className:`${i[s]} text-green-600`})})}return null}function L({teamId:o,currentLogoUrl:n,onLogoUpdate:s,className:c=""}){const[m,d]=u.useState(!1),[r,l]=u.useState(null),x=async a=>{var g;const i=(g=a.target.files)==null?void 0:g[0];if(i){d(!0),l(null);try{const{logoUrl:t}=await y.updateLogo(o,i);s(t)}catch(t){l(t instanceof Error?t.message:"Error al subir el logo")}finally{d(!1)}}};return e.jsxs("div",{className:`space-y-2 ${c}`,children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(w,{logoUrl:n,teamName:"Team",size:"medium"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("label",{className:"block",children:[e.jsx("span",{className:"sr-only",children:"Seleccionar logo del equipo"}),e.jsx("input",{type:"file",accept:"image/jpeg,image/png,image/webp,image/svg+xml",onChange:x,disabled:m,className:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-md file:border-0 file:text-sm file:font-medium file:bg-green-50 file:text-green-700 hover:file:bg-green-100 disabled:opacity-50"})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"JPEG, PNG, WebP o SVG. MÃ¡ximo 5MB."})]})]}),m&&e.jsxs("div",{className:"flex items-center space-x-2 text-sm text-blue-600",children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-600"}),e.jsx("span",{children:"Subiendo logo..."})]}),r&&e.jsxs("div",{className:"flex items-center space-x-2 text-sm text-red-600 bg-red-50 p-2 rounded-md",children:[e.jsx(N,{className:"h-4 w-4"}),e.jsx("span",{children:r})]})]})}export{w as T,L as a};
