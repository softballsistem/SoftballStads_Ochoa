import{c as N,u as b,r as a,j as e,U as i,y as v,X as w}from"./index-BxGlouXT.js";import{M as C}from"./mail-5jjkUzn8.js";import{S as U}from"./save-NlBWtKKl.js";import{P as S}from"./pen-CTkq6XwQ.js";import{H as E}from"./hash-CuT-7Qvb.js";import{C as k}from"./check-DgQo8WQg.js";/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I=N("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);function H(){const{user:s,updateUsername:h}=b(),[x,r]=a.useState(!1),[n,l]=a.useState((s==null?void 0:s.username)||""),[p,d]=a.useState(!1),[g,m]=a.useState(!1),[o,c]=a.useState(""),j=async()=>{s!=null&&s.playerId&&(await navigator.clipboard.writeText(s.playerId),d(!0),setTimeout(()=>d(!1),200))},u=async()=>{if(!n.trim()||n===(s==null?void 0:s.username)){r(!1),l((s==null?void 0:s.username)||"");return}m(!0),c("");const{error:t}=await h(n.trim());t?c(t):r(!1),m(!1)},f=()=>{r(!1),l((s==null?void 0:s.username)||""),c("")};if(!s)return e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-green-600"})});const y=t=>{switch(t){case"developer":return"bg-purple-100 text-purple-800";case"admin":return"bg-orange-100 text-orange-800";case"player":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}};return e.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Profile"})}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsxs("div",{className:"flex items-center space-x-4 mb-6",children:[e.jsx("div",{className:"h-16 w-16 rounded-full bg-green-100 flex items-center justify-center",children:e.jsx(i,{className:"h-8 w-8 text-green-600"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:s.username}),e.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${y(s.role)}`,children:[e.jsx(v,{className:"h-3 w-3 mr-1"}),s.role.charAt(0).toUpperCase()+s.role.slice(1)]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(C,{className:"h-5 w-5 text-gray-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Email"}),e.jsx("p",{className:"text-sm text-gray-600",children:s.email})]})]})}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(i,{className:"h-5 w-5 text-gray-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Username"}),x?e.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[e.jsx("input",{type:"text",value:n,onChange:t=>l(t.target.value),className:"text-sm border border-gray-300 rounded px-2 py-1 focus:outline-none focus:ring-2 focus:ring-green-500",placeholder:"Enter new username"}),e.jsx("button",{onClick:u,disabled:g,className:"p-1 text-green-600 hover:text-green-700 disabled:opacity-50",children:e.jsx(U,{className:"h-4 w-4"})}),e.jsx("button",{onClick:f,className:"p-1 text-gray-600 hover:text-gray-700",children:e.jsx(w,{className:"h-4 w-4"})})]}):e.jsx("p",{className:"text-sm text-gray-600",children:s.username}),o&&e.jsx("p",{className:"text-xs text-red-600 mt-1",children:o})]})]}),!x&&e.jsx("button",{onClick:()=>r(!0),className:"p-2 text-gray-400 hover:text-blue-600 transition-colors",children:e.jsx(S,{className:"h-4 w-4"})})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(E,{className:"h-5 w-5 text-gray-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Player ID"}),e.jsx("p",{className:"text-sm text-gray-600 font-mono",children:s.playerId})]})]}),e.jsx("button",{onClick:j,className:"flex items-center space-x-1 px-3 py-1 text-sm text-gray-600 hover:text-green-600 transition-colors",children:p?e.jsxs(e.Fragment,{children:[e.jsx(k,{className:"h-4 w-4"}),e.jsx("span",{children:"Copied!"})]}):e.jsxs(e.Fragment,{children:[e.jsx(I,{className:"h-4 w-4"}),e.jsx("span",{children:"Copy"})]})})]}),e.jsx("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(i,{className:"h-5 w-5 text-gray-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Member Since"}),e.jsx("p",{className:"text-sm text-gray-600",children:new Date(s.createdAt).toLocaleDateString()})]})]})})]})]})]})}export{H as default};
